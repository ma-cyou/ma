<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		%sveltekit.head%
		<title>macyou</title>
		<script>
			(function () {
				function getCookie(name) {
					const nameEQ = name + '=';
					const ca = document.cookie.split(';');
					for (let i = 0; i < ca.length; i++) {
						let c = ca[i].trim();
						if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length);
					}
					return null;
				}

				const savedTheme = getCookie('theme');
				const savedLanguage = getCookie('language');

				if (savedTheme) {
					document.documentElement.classList.toggle('dark', savedTheme === 'dark');
				} else {
					const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)').matches;
					document.documentElement.classList.toggle('dark', prefersDarkScheme);
				}

				if (savedLanguage) {
					document.documentElement.setAttribute('lang', savedLanguage);
				} else {
					const browserLanguage = navigator.language.startsWith('ru') ? 'ru' : 'en';
					document.documentElement.setAttribute('lang', browserLanguage);
				}
			})();
		</script>
	</head>

	<body class="min-h-[10000px] bg-gray-100 dark:bg-gray-800">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
