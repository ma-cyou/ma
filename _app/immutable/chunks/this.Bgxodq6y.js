import{o as _,h as n,q as k,H as R,v as q,w as x,x as u,y as T,z as d,A as E,B as F,E as N,C as g,D as v,i as B,F as C,S as D}from"./runtime.D8GYo7Cc.js";function L(a,f,e,c=null,i=!1){n&&k();var s=a,r=null,t=null,l=null,A=i?N:0;_(()=>{if(l===(l=!!f()))return;let h=!1;if(n){const S=s.data===R;l===S&&(s=q(),x(s),u(!1),h=!0)}l?(r?T(r):r=d(()=>e(s)),t&&E(t,()=>{t=null})):(t?T(t):c&&(t=d(()=>c(s))),r&&E(r,()=>{r=null})),h&&u(!0)},A),n&&(s=F)}function y(a,f){return a===f||(a==null?void 0:a[D])===f}function O(a={},f,e,c){return g(()=>{var i,s;return v(()=>{i=s,s=[],B(()=>{a!==e(...s)&&(f(a,...s),i&&y(e(...i),a)&&f(null,...i))})}),()=>{C(()=>{s&&y(e(...s),a)&&f(null,...s)})}}),a}export{O as b,L as i};
